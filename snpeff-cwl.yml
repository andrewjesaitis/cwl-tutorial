#!/usr/bin/env cwl-runner

class: Workflow

cwlVersion: cwl:draft-3

inputs:
  - id: genome
    type: string
  - id: in
    type: File
    description: gzip VCF file to annotate

outputs:
  - id: ann.vcf
    type: File
    source: "#snpeff/output"

steps:
  - id: gunzip
    run: gunzip.cwl
    inputs:
      - id: gzipfile
        source: "#in"
    outputs:
      - id: unzipped_vcf

  - id: snpeff
    run: snpeff.cwl
    inputs:
      - id: input_vcf
        source: "#cut/no_sample_vcf"
      - id: genome
        source: "#genome"
    outputs:
      - id: output

description: |
  Annotate variants provided in a gziped VCF using SnpEff
